# QnA_rzd. Цифровой прорыв Кейс 6 "КУ РЖД - Чат-бот хакатона ИИ СЗФО"

## Предметная область:  
Управление персоналом: первичная адаптация персонала и внутренние коммуникации 

## Проблематика:
  Ежегодно в компанию ОАО “РЖД” трудоустраиваются более 100 000 новых сотрудников. Компания
обладает обширным набором социальным пакетом для сотрудников, регулирующимся портфелем
нормативных документов. В момент приема работник обязан ознакомиться сразу с большим
количеством документов. При этом специалист по управлению персоналом из-за перегруженности
вопросами делопроизводства зачастую не имеет времени объяснить работнику все его
возможности и перечень льгот. Это приводит к тому, что хорошо продуманный и финансируемый
социальный пакет не является эффективным инструментом удержания работников - ведь им
просто не пользуются, потому что не знают как. Информирование работников происходит
спонтанно, часто с искажением, что приводит в недопониманию и увеличивает путь работника к
оформлению той или иной льготы.    

Отдельной проблемой является постоянная актуализация нормативных документов в данной
области и наличие большого количества линейных предприятий (около 3500), имеющих свои
локальные нормативные акты и некоторые особенности предоставления льгот.
При этом в компании отсутствует возможность увеличения штата специалистов по управлению
персоналом, которые занимались бы только информированием персонала или предоставлением
консультаций.
Опыт введения чат-ботов, использующих классический подход к формированию базы знаний
(ручное ведение и актуализацию информации), показывает, что со временем затраты на
поддержание базы знаний начинают превышать преимущества от ее использования. Также
качество базы знаний напрямую зависит от квалификации специалиста, ее обновляющего, что
требует дополнительного контроля. При наличии 3500 ответственных за ведение базы знаний на
местах, человеческий фактор (введение данных не по инструкции, своевременность внесения
информации и сменяемость ответственных на местах) требует все большего контроля.

## Краткое описание кейса:
Создание чат-бота с ИИ, формирующего ответы на вопросы пользователя на основании имеющихся в базе данных документов с минимальным привлечением к интерпретации документов, формулировке ответов и поддержанию актуальности базы данных человека.

## Задачи проекта:
Используя размеченные нормативные документы и базу вопросно-ответных пар создать MVP чат-бота с применением технологий искусственного интеллекта, самостоятельно отвечающего на вопросы пользователя.

## Описание проекта: 
1) База знаний чат-бота представлена в виде векторной БД Faiss, которая формируется путём чтения текста из pdf документов, разбития на равные чанки, их векторизации и помещения в векторную БД.
2) Для реализации генерации ответа на основе базы знаний используется RAG-подход. Он работает следующим образом:
- Пользователь задаёт вопрос чат-боту;
- Вопрос векторизуется, после происходит поиск релевантных к вопросу чанков информации;
- Далее эти чанки подаются в LLM в качестве assisstant promt, а вопрос пользователя в качестве user prompt;
- Языковая модель генерирует ответ и возвращает его пользователю.
![image](https://github.com/user-attachments/assets/513dd91e-cdb9-40b1-82b7-fae2334cb691)


## Инструменты:
* Python 
* Llama
* Pytorch
* Transformers
* Gradio
* Faiss
* pdfplumber
* GIT
* FastAPI
* JavaScript

## Использование
1) Клонировать репозиторий;
2) В скриптах директории NLP заменить пути до моделей (найти на HuggingFace пути для загрузки);
3) Поднять WebApp с директории back;
4) Запустить скрипт inference.py с параметром share=True (для ссылки Gradio);
5) Поместить ссылку в теге iframe в back/templates/chat.html.

## UI:
### Главная страница:
![image](https://github.com/user-attachments/assets/c2cd0e4f-0d07-4751-b9ac-663638e1e07b)
### Чат:
![image](https://github.com/user-attachments/assets/828e246e-1c5c-43e3-b8ef-3c183d97e774)
### Документы:
![image](https://github.com/user-attachments/assets/0a30e2d4-1ff6-4ae8-b739-32ee2cfc41fc)


